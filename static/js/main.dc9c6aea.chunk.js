(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{5565:function(e,t,a){e.exports=a(5909)},5570:function(e,t,a){},5571:function(e,t,a){},5909:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(29),l=a.n(r),i=(a(5570),a(16)),c=a(17),s=a(19),u=a(18),p=a(20),h=(a(5571),a(278)),m=a(282),d=a(279),g=a.n(d),f=a(5),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).createSortHandler=function(e){return function(t){a.props.onRequestSort(t,e)}},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.sort,n=t.sortBy,r=t.cols;return o.a.createElement(f.q,null,o.a.createElement(f.s,null,r.map(function(t){return"delete"!==t.name&&"location_coordinates"!==t.name?o.a.createElement(f.p,{key:t.name,sortDirection:n===t.name&&a},o.a.createElement(f.v,{title:"Sort",enterDelay:300},o.a.createElement(f.t,{active:n===t.name,direction:a,onClick:e.createSortHandler(t.name)},t.header))):o.a.createElement(f.p,{key:t.name},t.header)})))}}]),t}(o.a.Component),E=a(112),v=a.n(E),O=a(65),y=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.onFilterChange;return o.a.createElement(f.u,null,o.a.createElement("div",{className:t.title},o.a.createElement(f.w,{variant:"h6",id:"tableTitle"},"Latest Jobs from JobFeed")),o.a.createElement("div",{className:t.spacer}),o.a.createElement("div",{className:t.actions},o.a.createElement(f.j,{id:"standard-search",placeholder:"Filter Table",type:"search",className:t.textField,margin:"none",onChange:a,startAdornment:o.a.createElement(f.k,{position:"start"},o.a.createElement(v.a,null))})))}}]),t}(o.a.Component),j=Object(O.a)(function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:e.palette.secondary.light}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary,flex:"0 0 auto"},title:{flex:"0 0 auto"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200}}})(y),C=a(113),w=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleClickFunc,a=e.rowIndex,n=e.icon;return"OpenInBrowserSharp"===n?o.a.createElement(f.p,null,o.a.createElement(f.i,{onClick:function(e){return t(e,a)},color:"primary",component:"span"},o.a.createElement(C.b,null))):"Delete"===n?o.a.createElement(f.p,null,o.a.createElement(f.i,{onClick:function(e){return t(e,a)},color:"primary",component:"span"},o.a.createElement(C.a,null))):o.a.createElement(f.p,null,o.a.createElement(C.c,null))}}]),t}(o.a.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.colName,a=e.colValue,n=e.rowIndex,r=e.handleMapsClick,l=e.handleDeleteRow;return"location_coordinates"===t?o.a.createElement(w,{handleClickFunc:r,rowIndex:n,icon:"OpenInBrowserSharp"}):"delete"===t?o.a.createElement(w,{handleClickFunc:l,rowIndex:n,icon:"Delete"}):o.a.createElement(f.p,null,a)}}]),t}(o.a.Component),D=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.colNames,a=e.row,n=e.handleMapsClick,r=e.handleDeleteRow;return o.a.createElement(f.s,null,t.map(function(e,t){return o.a.createElement(k,{key:t,rowIndex:a.id,handleMapsClick:n,handleDeleteRow:r,colName:e.name,colValue:a[e.name]?a[e.name]:""})}))}}]),t}(o.a.Component),P=a(66),x=function(e){return o.a.createElement(P.Marker,{position:e.location})},S=Object(P.withScriptjs)(Object(P.withGoogleMap)(function(e){return o.a.createElement(P.GoogleMap,{defaultZoom:14,center:{lat:e.location.lat,lng:e.location.lng}},o.a.createElement(x,{location:{lat:e.location.lat,lng:e.location.lng}}))})),B=a(64),R=a.n(B),M=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.location,n=e.onClose,r=e.classes;return o.a.createElement(f.b,{open:t||!1,fullWidth:!0,maxWidth:"lg"},o.a.createElement(f.f,{id:"maps-dialog-title",className:r.root},"Location of the job",n?o.a.createElement(f.i,{"aria-label":"Close",className:r.closeButton,onClick:n},o.a.createElement(R.a,null)):null),o.a.createElement(f.d,null,o.a.createElement(S,{location:a,googleMapURL:"https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyCPqfYqQtGCTXlWiMEIMLxpIZs3lPtrAc4","&v=3.exp&libraries=geometry,drawing,places"),loadingElement:o.a.createElement("div",{style:{height:"100%"}}),containerElement:o.a.createElement("div",{style:{width:"100%",maxWidth:"1280px",height:"500px"}}),mapElement:o.a.createElement("div",{style:{height:"100%"}})})))}}]),t}(o.a.Component),I=Object(O.a)(function(e){return{root:{borderBottom:"1px solid ".concat(e.palette.divider),margin:0,padding:2*e.spacing.unit},closeButton:{position:"absolute",right:e.spacing.unit,top:e.spacing.unit,color:e.palette.grey[500]}}})(M),N=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,a=e.onClose,n=e.onApprove,r=e.classes;return o.a.createElement(f.b,{open:t||!1,className:r.root,fullWidth:!0,maxWidth:"sm"},o.a.createElement(f.f,null,"Confirm",a?o.a.createElement(f.i,{"aria-label":"Close",className:r.closeButton,onClick:a},o.a.createElement(R.a,null)):null),o.a.createElement(f.d,null,o.a.createElement(f.e,null,"Are you sure you want to delete this job?")),o.a.createElement(f.c,null,o.a.createElement(f.a,{variant:"contained",onClick:n,className:r.button},"Yes"),o.a.createElement(f.a,{variant:"contained",onClick:a,className:r.button},"No")))}}]),t}(o.a.Component),T=Object(O.a)(function(e){return{root:{borderBottom:"1px solid ".concat(e.palette.divider),margin:0,padding:2*e.spacing.unit},closeButton:{position:"absolute",right:e.spacing.unit,top:e.spacing.unit,color:e.palette.grey[500]},button:{margin:e.spacing.unit}}})(N),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleRequestSort=function(e,t){var n=t,o=a.state.sortBy===t&&"desc"===a.state.sort?"asc":"desc";a.setState({sort:o,sortBy:n})},a.handleChangePage=function(e,t){a.setState({page:t})},a.handleChangeRowsPerPage=function(e){a.setState({rowsPerPage:e.target.value})},a.handleMapsClick=function(e,t){var n=a.state.data[a.state.page*a.state.rowsPerPage+t];n&&(a.setState({mapsDialogLocation:{lat:parseFloat(n.location_coordinates[0]),lng:parseFloat(n.location_coordinates[1])}}),a.setState({mapsDialogOpen:!0}))},a.handleDeleteRow=function(e,t){a.setState({selectedRowIndexToDelete:t,confirmationDialogOpen:!0})},a.handleConfirmModalApprove=function(e){if(a.state.selectedRowIndexToDelete>-1){var t=Object(m.a)(a.getCurrentPageData(!1)),n=t.findIndex(function(e){return e.id===a.state.selectedRowIndexToDelete});t.splice(n,1),a.setState({data:t,selectedRowIndexToDelete:-1,confirmationDialogOpen:!1})}},a.handleConfirmModalClose=function(e){a.setState({confirmationDialogOpen:!1,selectedRowIndexToDelete:-1})},a.handleMapsModalClose=function(e){a.setState({mapsDialogOpen:!1})},a.handleFilterChange=function(e){a.setState({filterBy:e.currentTarget.value})},a.state={data:[],cols:[],sort:"asc",sortBy:"job_title",rowsPerPage:10,page:0,showLoader:!1,filterBy:"",mapsDialogOpen:!1,mapsDialogLocation:{lat:0,lng:0},confirmationDialogOpen:!1,selectedRowIndexToDelete:-1},a}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(f.m,null,o.a.createElement(j,{onFilterChange:this.handleFilterChange}),o.a.createElement(f.g,{in:this.state.showLoader,unmountOnExit:!0},o.a.createElement(f.l,null)),o.a.createElement(f.n,null,o.a.createElement(b,{sort:this.state.sort,sortBy:this.state.sortBy,onRequestSort:this.handleRequestSort,cols:this.state.cols}),o.a.createElement(f.o,null,this.getCurrentPageData().map(function(t,a){return o.a.createElement(D,{key:a,colNames:e.state.cols,row:t,handleDeleteRow:e.handleDeleteRow,handleMapsClick:e.handleMapsClick})}))),o.a.createElement(f.r,{rowsPerPageOptions:[10,25,50],component:"div",count:this.getCurrentPageData(!1).length,rowsPerPage:this.state.rowsPerPage,page:this.state.page,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage})),o.a.createElement(I,{open:this.state.mapsDialogOpen,location:this.state.mapsDialogLocation,onClose:this.handleMapsModalClose}),o.a.createElement(T,{open:this.state.confirmationDialogOpen,onClose:this.handleConfirmModalClose,onApprove:this.handleConfirmModalApprove}))}},{key:"getCurrentPageData",value:function(){return arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?this.stableSort(this.state.data,this.getSorting(this.state.sort,this.state.sortBy)):this.stableSort(this.filterData(),this.getSorting(this.state.sort,this.state.sortBy)).slice(this.state.page*this.state.rowsPerPage,this.state.page*this.state.rowsPerPage+this.state.rowsPerPage)}},{key:"stableSort",value:function(e,t){var a=e.map(function(e,t){return[e,t]});return a.sort(function(e,a){var n=t(e[0],a[0]);return 0!==n?n:e[1]-a[1]}),a.map(function(e){return e[0]})}},{key:"desc",value:function(e,t,a){return t[a]<e[a]?-1:t[a]>e[a]?1:0}},{key:"getSorting",value:function(e,t){var a=this;return"desc"===e?function(e,n){return a.desc(e,n,t)}:function(e,n){return-a.desc(e,n,t)}}},{key:"filterData",value:function(){if(this.state.filterBy){var e=this.state.filterBy.toUpperCase();return this.state.data.filter(function(t){var a=!!t.organization_name&&t.organization_name.toUpperCase().includes(e),n=!!t.job_title&&t.job_title.toUpperCase().includes(e);return a||n})}return this.state.data}},{key:"getTableData",value:function(){var e=this;this.setState({showLoader:!0}),g.a.get("https://cors-anywhere.herokuapp.com/https://us.jobfeed.com/data/info-recent-jobs").then(function(t){var a={data:[],cols:[]};a.data=t.data.map(function(e,t){return Object(h.a)({},e,{id:t})}),a.cols=[{header:"Job Title",name:"job_title"},{header:"Organization Name",name:"organization_name"},{header:"Location",name:"location_coordinates"},{header:"Delete",name:"delete"}],e.setState(a)}).then(function(){e.setState({showLoader:!1})})}},{key:"componentWillMount",value:function(){this.getTableData()}}]),t}(o.a.Component),L=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"DataTable-container"},o.a.createElement(f.h,{container:!0,spacing:24},o.a.createElement(f.h,{item:!0,xs:12},o.a.createElement(F,null)))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[5565,1,2]]]);
//# sourceMappingURL=main.dc9c6aea.chunk.js.map